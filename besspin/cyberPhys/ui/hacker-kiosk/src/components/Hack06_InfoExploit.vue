<template>
  <div id="hack06">
      
      <!-- Data Exfil Button -->
      <button class="hack06-exfil-btn img-btn" @click="exfil()"></button>

      <div id="exfil-msg" class="status-msg">X 123.1213 Y 2342 Z 4324.44</div>

      <!-- Radio Station Buttons -->
      <button class="hack06-station1-btn img-btn" @click="changeStation(1)"></button>
      <button class="hack06-station2-btn img-btn" @click="changeStation(2)"></button>
      <button class="hack06-station3-btn img-btn" @click="changeStation(3)"></button>

      <div id="station-msg" class="status-msg">Station 1 is playing</div>

      <!-- Volume Buttons -->
      <button class="hack06-down-btn img-btn" @click="volumeDown()"></button>
      <button class="hack06-up-btn img-btn" @click="volumeUp()"></button>

      <div id="volume-msg" class="status-msg">Volume Increased</div>

      <router-link v-if="clickCount >= 1" class="hack06-next-btn img-btn" to="/hack07_critical_attempt" tag="button">
      </router-link>

  </div>
</template>

<style scoped>
  .status-msg {
    font-size: 2em;
    font-family: 'Roboto Mono', monospace;
    position: absolute;
    width: 810px;
    left: 120px;
  }
  #volume-msg {
    top: 1520px;
  }
  #station-msg {
    top: 1050px;
  }
  #exfil-msg {
    top: 580px;
  }

  #hack06 {
    background-image: url('/hack06_infoExploit/hack06_infoExploit_noBTN.png');
    height: 1920px;
    width: 1080px;
    text-align: center;
  }
  .hack06-exfil-btn {
    background-image: url('/hack06_infoExploit/hack06_infoExploit_gps_btn.png');
    width: 555px;
    height: 170px;
    top: 375px;
    left: 260px;
  }
  .hack06-exfil-btn:active {
    top: 350px;
    left: 235px;
    width: 600px;
    height: 220px;
    background-image: url('/hack06_infoExploit/hack06_infoExploit_gps_btnHIT.png');
  }

  .hack06-station1-btn {
    background-image: url('/hack06_infoExploit/hack06_infoExploit_radio_btn1.png');
    width: 555px;
    height: 170px;
    top: 852px;
    left: 180px;
  }
  .hack06-station1-btn:active {
    background-image: url('/hack06_infoExploit/hack06_infoExploit_radio_btn1_HIT.png');
  }

  .hack06-station2-btn {
    background-image: url('/hack06_infoExploit/hack06_infoExploit_radio_btn2.png');
    width: 555px;
    height: 170px;
    top: 852px;
    left: 400px;
  }
  .hack06-station2-btn:active {
    background-image: url('/hack06_infoExploit/hack06_infoExploit_radio_btn2_HIT.png');
  }

  .hack06-station3-btn {
    background-image: url('/hack06_infoExploit/hack06_infoExploit_radio_btn3.png');
    width: 555px;
    height: 170px;
    top: 852px;
    left: 620px;
  }
  .hack06-station3-btn:active {
    background-image: url('/hack06_infoExploit/hack06_infoExploit_radio_btn3_HIT.png');
  }

  .hack06-up-btn {
    background-image: url('/hack06_infoExploit/hack06_infoExploit_up_btn.png');
    width: 555px;
    height: 170px;
    top: 1320px;
    left: 290px;
  }
  .hack06-up-btn:active {
    background-image: url('/hack06_infoExploit/hack06_infoExploit_up_btnHIT.png');
  }

  .hack06-down-btn {
    background-image: url('/hack06_infoExploit/hack06_infoExploit_down_btn.png');
    width: 555px;
    height: 170px;
    top: 1320px;
    left: 540px;
  }
  .hack06-down-btn:active {
    background-image: url('/hack06_infoExploit/hack06_infoExploit_down_btnHIT.png');
  }

  .hack06-next-btn {
    background-image: url('/hack05_infoAttempt/hack05_infoAttempt_btn.png');
    width: calc(716px * .8);
    height: calc(272px * .8);
    background-size: 70%;
    top: 1630px;
    left: 340px;
  }
  .hack06-next-btn:active {
    left: 340px;
    top: 1630px;
    background-image: url('/hack05_infoAttempt/hack05_infoAttempt_btnHIT.png');
  }


</style>


<script>

  const electron = require('electron')
  const ipc = electron.ipcRenderer;

  export default {
    name: 'Hack06_InfoExploit',
    props: {
    },
    data() {
      return {
        messages: [],
        clickCount: 0
      }
    },
    mounted() {
      ipc.on('zmq-results',(event, q) => {
        console.log("hack06 zmq-results");
        q.forEach(item => {
          if(item.function == "changeStation" && item.retval == 200) {
            console.log('change staiton succeeded ', item.args[0]);
          }          
        });
      });
    },
    methods: {
      exfil() {
        console.log("[click] data Exfil");
        this.clickCount++;
        ipc.send('cmd-msg', {'function': 'exfil'});
      },
      changeStation(which) {
        console.log("[click] change to station ", which)
        this.clickCount++;
        ipc.send('cmd-msg', {'function': 'changeStation', 'args': [which]});
      },
      volumeUp() {
        console.log("[click] volumeUp")
        this.clickCount++;
        ipc.send('cmd-msg', {'function': 'volumeUp'});
      },
      volumeDown() {
        console.log("[click] volumeDown");
        this.clickCount++;
        ipc.send('cmd-msg', {'function': 'volumeDown'});
      }
    }
  };
</script>
